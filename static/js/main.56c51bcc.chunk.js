(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,a,t){},221:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(28),i=t.n(l),o=t(225),c=t(223),s=t(9),u=t(10),m=t(12),d=t(11),p=t(13),f=t(222),v=t(226),h=t(14),E=t(34),g=t.n(E),b=function(e){return{type:"register_user",payload:g.a.post("".concat("/api/users","/register"),e).then(function(e){return e.data})}},y=function(e){return{type:"login_user",payload:g.a.post("".concat("/api/users","/login"),e).then(function(e){return e.data})}},_=function(){return{type:"logout_user",payload:g.a.get("".concat("/api/users","/logout")).then(function(e){return e.data})}},k=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={page:[{name:"Home",linkTo:"/",public:!0},{name:"Shop",linkTo:"/shop",public:!0}],user:[{name:"My Cart",icon:"/e-commerce-fullstack-app/images/icons/icon-header-02.png",linkTo:"user/cart",public:!1},{name:"My Account",linkTo:"user/dashboard",public:!1},{name:"Log in",icon:"/e-commerce-fullstack-app/images/icons/icon-header-01.png",linkTo:"/register_login",public:!0},{name:"Log out",linkTo:"/user/logout",public:!1}]},t.logoutHandler=function(){t.props.dispatch(_()).then(function(e){e.payload.success&&t.props.history.push("/")})},t.defaultLink=function(e,a){return"Log out"===e.name?r.a.createElement("div",{className:"log_out_link",key:a,onClick:function(){return t.logoutHandler()}},e.name):r.a.createElement(f.a,{to:e.linkTo,key:a,className:"icon-login"},e.icon?r.a.createElement("img",{src:e.icon,alt:"LOG_IN"}):e.name)},t.cartLink=function(e,a){var n=t.props.user.userData;return r.a.createElement("div",{className:"cart_link",key:a},r.a.createElement("span",null,n.cart?n.cart.length:0),r.a.createElement(f.a,{to:e.linkTo,className:"icon-cart"},r.a.createElement("img",{src:e.icon,alt:"MY_CART"})))},t.showLinks=function(e){var a=[];return t.props.user.userData&&e.forEach(function(e){t.props.user.userData.isAuth?"Log in"!==e.name&&a.push(e):!0===e.public&&a.push(e)}),a.map(function(e,a){return"My Cart"!==e.name?t.defaultLink(e,a):t.cartLink(e,a)})},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header1"},r.a.createElement("div",{className:"wrap_header"},r.a.createElement(f.a,{to:"/",className:"logo"},r.a.createElement("img",{src:"/e-commerce-fullstack-app/images/icons/logo.png",alt:"IMG-LOGO"})),r.a.createElement("div",{className:"main_menu"},r.a.createElement("nav",{className:"menu"},"middle nav")),r.a.createElement("div",{className:"header-icons"},r.a.createElement("div",null,this.showLinks(this.state.user)),r.a.createElement("div",null,this.showLinks(this.state.page)))))}}]),a}(r.a.Component);var w=Object(h.b)(function(e){return{user:e.user}})(Object(v.a)(k)),N=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"flex-w"},r.a.createElement("div",{className:"left"},r.a.createElement("h4",{className:"newsletter"},"GET IN TOUCH"),r.a.createElement("p",null,"Any questions? Let us know in store at 8th floor, 379 Hudson St, New York, NY 10018 or call us on (+1) 96 716 6879")),r.a.createElement("div",{className:"middle"},"middle links"),r.a.createElement("div",{className:"right"},r.a.createElement("h4",{className:"newsletter"},"NEWSLETTER"),r.a.createElement("div",null,r.a.createElement("div",null,"Get all the information on events, sales and offers."))))))}}]),a}(r.a.Component),O=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement("div",{className:"page_container"},this.props.children),r.a.createElement(N,null))}}]),a}(r.a.Component),j=t(84),D=t.n(j),S=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=function(n){function l(){var e,a;Object(s.a)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(l)).call.apply(e,[this].concat(n)))).state={loading:!0},a}return Object(p.a)(l,n),Object(u.a)(l,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"auth_user",payload:g.a.get("".concat("/api/users","/auth")).then(function(e){return e.data})}).then(function(n){var r=e.props.user.userData;r.isAuth?t&&!r.isAdmin?e.props.history.push("/user/dashboard"):!1===a&&e.props.history.push("/user/dashboard"):a&&e.props.history.push("/register_login"),e.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"main_loader"},r.a.createElement(D.a,{style:{color:"#2196F3"},thickness:7})):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),l}(n.Component);return Object(h.b)(function(e){return{user:e.user}})(l)},T=function(e){return r.a.createElement("div",{className:"my_link"},function(){var a="";switch(e.type){case"default":a=r.a.createElement(f.a,Object.assign({className:"link_default",to:e.linkTo},e.addStyles),e.title);break;default:a=""}return a}())},C=function(e){var a=e.data,t=e.change,n=e.id;return r.a.createElement("div",null,function(){var e=null;switch(a.element){case"input":e=r.a.createElement("div",{className:"formBlock"},r.a.createElement("input",Object.assign({},a.config,{value:a.value,onBlur:function(e){return t({event:e,id:n,blur:!0})},onChange:function(e){return t({event:e,id:n})}})),function(){var e=null;return a.validation&&!a.valid&&(e=r.a.createElement("div",{className:"error_label"},a.validationMessage)),e}());break;default:e=null}return e}())},L=t(20),M=function(e,a,t){var n=Object(L.a)({},a),r=Object(L.a)({},n[e.id]);if(r.value=e.event.target.value,e.blur){var l=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[!0,""];if(e.validation.email){var n=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value),r="".concat(n?"":"Must be a valid email");t=n?t:[n,r]}if(e.validation.confirm){var l=e.value.trim()===a[e.validation.confirm].value,i="".concat(l?"":"Password do not match");t=l?t:[l,i]}if(e.validation.required){var o=""!==e.value.trim(),c="".concat(o?"":"This field is required");t=o?t:[o,c]}return t}(r,a);r.valid=l[0],r.validationMessage=l[1]}return r.touched=e.blur,n[e.id]=r,n},q=function(e,a){var t={};for(var n in e)"confirmPassword"!==n&&(t[n]=e[n].value);return t},F=function(e,a){var t=!0;for(var n in e)t=e[n].value&&t;return t},A=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={formError:!1,formSuccess:"",formData:{email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""}}},t.updateForm=function(e){var a=M(e,t.state.formData,"login");t.setState({formError:!1,formData:a})},t.submitForm=function(e){e.preventDefault();var a=q(t.state.formData,"login");F(t.state.formData,"login")?t.props.dispatch(y(a)).then(function(e){e.payload.loginSuccess?t.props.history.push("/user/dashboard"):t.setState({formError:!0})}):t.setState({formError:!0})},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signin_wrapper"},r.a.createElement("form",{onSubmit:function(a){return e.submitForm(a)}},r.a.createElement(C,{id:"email",data:this.state.formData.email,change:function(a){return e.updateForm(a)}}),r.a.createElement(C,{id:"password",data:this.state.formData.password,change:function(a){return e.updateForm(a)}}),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(a){return e.submitForm(a)}},"Log in")))}}]),a}(r.a.Component),P=Object(h.b)()(Object(v.a)(A)),x=function(){return r.a.createElement("div",{className:"page_wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,"New Customers"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt non facilis perferendis, optio rerum cum dolorem in nemo atque accusantium sapiente obcaecati consequatur totam quaerat officiis quisquam cumque laboriosam perspiciatis!"),r.a.createElement(T,{type:"default",title:"Create an account",linkTo:"/register",addStyles:{margin:"10px 0 0 0"}})),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Registered Customers"),r.a.createElement("p",null,"If you have an account, please login."),r.a.createElement(P,null)))))},I=t(85),G=t.n(I),H=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={formError:!1,formSuccess:!1,formData:{name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter your name"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},lastname:{element:"input",value:"",config:{name:"lastname_input",type:"text",placeholder:"Enter your lastname"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},confirmPassword:{element:"input",value:"",config:{name:"confirm_password_input",type:"password",placeholder:"Confirm your password"},validation:{required:!0,confirm:"password"},valid:!1,touched:!1,validationMessage:""}}},t.updateForm=function(e){var a=M(e,t.state.formData,"register");t.setState({formError:!1,formData:a})},t.submitForm=function(e){e.preventDefault();var a=q(t.state.formData,"register");F(t.state.formData,"register")?t.props.dispatch(b(a)).then(function(e){e.payload.success?(t.setState({formError:!1,formSuccess:!0}),setTimeout(function(){t.props.history.push("/register_login")},3e3)):t.setState({formError:!0})}).catch(function(e){t.setState({formError:!0})}):t.setState({formError:!0})},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page_wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("form",{onSubmit:function(a){return e.submitForm(a)}},r.a.createElement("h2",null,"Personal information"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement(C,{id:"name",data:this.state.formData.name,change:function(a){return e.updateForm(a)}})),r.a.createElement("div",{className:"block"},r.a.createElement(C,{id:"lastname",data:this.state.formData.lastname,change:function(a){return e.updateForm(a)}}))),r.a.createElement("div",null,r.a.createElement("div",{className:"block"},r.a.createElement(C,{id:"email",data:this.state.formData.email,change:function(a){return e.updateForm(a)}}))),r.a.createElement("h2",null,"Verify password"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement(C,{id:"password",data:this.state.formData.password,change:function(a){return e.updateForm(a)}})),r.a.createElement("div",{className:"block"},r.a.createElement(C,{id:"confirmPassword",data:this.state.formData.confirmPassword,change:function(a){return e.updateForm(a)}}))),r.a.createElement("div",null,this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(a){return e.submitForm(a)}},"Create an account")))))),r.a.createElement(G.a,{open:this.state.formSuccess},r.a.createElement("div",{className:"dialog_alert"},r.a.createElement("div",null,"Congratulations!!"),r.a.createElement("div",null,"You will be redirected to the LOGIN in a few seconds..."))))}}]),a}(n.Component),R=Object(h.b)()(H),U=[{name:"My account",linkTo:"/user/dashboard"},{name:"User information",linkTo:"/user/user_profile"},{name:"My Cart",linkTo:"/user/cart"}],X=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"user_left_nav"},r.a.createElement("h2",null,"My account"),r.a.createElement("div",{className:"links"},U.map(function(e,a){return r.a.createElement(f.a,{to:e.linkTo,key:a},e.name)}))),r.a.createElement("div",{className:"user_right"},e.children)))},Y=function(e){var a=e.user;return r.a.createElement(X,null,r.a.createElement("div",null,r.a.createElement("div",{className:"user_nfo_panel"},r.a.createElement("h1",null,"User information"),r.a.createElement("div",null,r.a.createElement("span",null,a.userData.name),r.a.createElement("span",null,a.userData.lastname),r.a.createElement("span",null,a.userData.email)),r.a.createElement(T,{type:"default",title:"Edit account info",linkTo:"/user/user_profile"})),r.a.createElement("div",{className:"user_nfo_panel"},r.a.createElement("h1",null,"History Purchases"),r.a.createElement("div",{className:"user_product_block_wrapper"},"history"))))},B=function(){return r.a.createElement(O,null,r.a.createElement(o.a,null,r.a.createElement(c.a,{path:"/e-commerce-fullstack-app/user/dashboard",exact:!0,component:S(Y,!0)}),r.a.createElement(c.a,{path:"/e-commerce-fullstack-app/register",exact:!0,component:S(R,!1)}),r.a.createElement(c.a,{path:"/e-commerce-fullstack-app/",exact:!0,component:S(x,!1)})))},V=(t(208),t(224)),J=t(19),W=t(86),$=t(87),z=t.n($),K={},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"register_user":return Object(L.a)({},e,{register:a.payload});case"login_user":return Object(L.a)({},e,{loginSuccess:a.payload});case"auth_user":return Object(L.a)({},e,{userData:a.payload});case"logout_user":return Object(L.a)({},e);default:return e}},Z=Object(J.c)({user:Q}),ee=Object(J.e)(Z,{},Object(J.d)(Object(J.a)(z.a,W.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(r.a.createElement(h.a,{store:ee},r.a.createElement(V.a,null,r.a.createElement(B,null))),document.getElementById("root"))},88:function(e,a,t){e.exports=t(221)}},[[88,2,1]]]);
//# sourceMappingURL=main.56c51bcc.chunk.js.map